/*! For license information please see 72.28cd637c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkszwagecalc=self.webpackChunkszwagecalc||[]).push([[72],{61:(e,r,t)=>{t.d(r,{B:()=>s,j:()=>a});const a=[{id:"brand-purple",name:"\ube0c\ub79c\ub4dc \ud37c\ud50c",value:"var(--accent-primary)",textLight:"var(--accent-text)",textDark:"var(--accent-text)",inactive:"rgba(139, 92, 246, 0.25)"},{id:"success-green",name:"\uc11d\uc138\uc2a4 \uadf8\ub9b0",value:"var(--success-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(34, 197, 94, 0.25)"},{id:"warning-orange",name:"\uc6cc\ub2dd \uc624\ub80c\uc9c0",value:"var(--warning-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(249, 115, 22, 0.25)"},{id:"error-red",name:"\uc5d0\ub7ec \ub808\ub4dc",value:"var(--error-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(239, 68, 68, 0.25)"},{id:"blue",name:"\ube14\ub8e8",value:"#2563EB",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(37, 99, 235, 0.25)"},{id:"fuchsia",name:"\ud4e8\uc2dc\uc544",value:"#C026D3",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(192, 38, 211, 0.25)"},{id:"coffee-brown",name:"\ucee4\ud53c \ube0c\ub77c\uc6b4",value:"#8B5E3C",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(139, 94, 60, 0.25)"}],n=a[0],o=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=a.find(r=>r.value===e);if(t)return r?t.textDark:t.textLight;if(!e)return r?"#FFFFFF":"#1F2937";if(e.startsWith("var("))return"var(--text-inverse)";const n=e.replace("#","");return(.299*parseInt(n.substr(0,2),16)+.587*parseInt(n.substr(2,2),16)+.114*parseInt(n.substr(4,2),16))/255>.5?"#1F2937":"#FFFFFF"},s=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.color||n.value,i=(l=s,a.find(e=>e.value===l)||n);var l;return r?{backgroundColor:s,color:o(s,t),borderColor:s}:{backgroundColor:i?i.inactive:"rgba(0,0,0,0.1)",color:"var(--text-secondary)",borderColor:i?i.inactive:"rgba(0,0,0,0.1)"}}},72:(e,r,t)=>{t.r(r),t.d(r,{default:()=>b});var a=t(379),n=t(43),o=t(312),s=t(253),i=t(994),l=t(505),c=t(855),d=t(360),u=t(61),m=t(579);const g=u.j.map(e=>({name:e.name,value:e.value})),b=e=>{let{isOpen:r,onClose:t,session:u,jobs:b,fetchJobs:x}=e;const f=(0,s.d)(),h=(0,i.S)(),[y,v]=(0,n.useState)(""),[p,k]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[F,N]=(0,n.useState)(g[0].value),[A,C]=(0,n.useState)(""),[O,S]=(0,n.useState)(null),[L,D]=(0,n.useState)("list"),[E,P]=(0,n.useState)(!1),[z,W]=(0,n.useState)(!1);(0,n.useEffect)(()=>{r?(P(!0),setTimeout(()=>W(!0),10),document.body.classList.add("modal-open"),D("list")):(W(!1),setTimeout(()=>{P(!1),S(null),v(""),k(""),w(""),N(g[0].value),C(""),D("list")},300),document.body.classList.remove("modal-open"))},[r]),(0,n.useEffect)(()=>()=>{document.body.classList.remove("modal-open")},[]);const _=e=>{S(e),v(e.job_name),k(e.description||""),w(e.payday||""),N(e.color||g[0].value),C(""),D("edit")},M=()=>{S(null),v(""),k(""),w(""),N(g[0].value),C(""),D("list")};return E?(0,m.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity duration-300 ease-out ".concat(z?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," z-layer-modal"),children:(0,m.jsxs)("div",{className:"bg-cream-white dark:bg-charcoal-gray rounded-lg shadow-lg p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-out ".concat(z?"translate-y-0":"translate-y-10"),children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,m.jsxs)("h2",{className:"text-xl font-bold text-dark-navy dark:text-white",children:["list"===L&&"\uc9c1\uc5c5 \uad00\ub9ac","add"===L&&"\uc0c8 \uc9c1\uc5c5 \ucd94\uac00","edit"===L&&"\uc9c1\uc5c5 \ud3b8\uc9d1"]}),(0,m.jsx)("button",{onClick:t,className:"text-medium-gray dark:text-light-gray hover:text-dark-navy dark:hover:text-white text-2xl transition-all duration-200 ease-in-out transform hover:scale-105",children:"\xd7"})]}),"list"===L&&(0,m.jsxs)("div",{className:"space-y-4 mb-6",children:[0===b.length?(0,m.jsx)("p",{className:"text-medium-gray dark:text-light-gray text-center py-4",children:"\ub4f1\ub85d\ub41c \uc9c1\uc5c5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8 \uc9c1\uc5c5\uc744 \ucd94\uac00\ud574\ubcf4\uc138\uc694!"}):(0,m.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2",children:b.map((e,r)=>(0,m.jsxs)("div",{className:"flex items-center py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0 rounded-md",children:[(0,m.jsx)("div",{className:"w-1.5 h-12 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:e.color||"transparent"}}),(0,m.jsxs)("div",{onClick:()=>_(e),className:"flex-grow cursor-pointer",children:[(0,m.jsx)("div",{className:"font-bold text-lg text-dark-navy dark:text-white",children:e.job_name}),e.payday&&(0,m.jsxs)("p",{className:"text-sm text-medium-gray dark:text-light-gray mt-0.5",children:["\uc6d4\uae09\uc77c: \ub9e4\uc6d4 ",e.payday,"\uc77c"]})]}),(0,m.jsxs)("div",{className:"flex flex-col space-y-2 ml-4 flex-shrink-0",children:[(0,m.jsx)("button",{onClick:()=>_(e),className:"p-2 rounded-full text-medium-gray dark:text-light-gray hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":"\uc218\uc815",children:(0,m.jsx)(l.A,{size:20})}),(0,m.jsx)("button",{onClick:()=>(async e=>{u&&h("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694? \uad00\ub828 \uae30\ub85d\uc774 \ubaa8\ub450 \uc0ac\ub77c\uc838\uc694.",async()=>{const{error:r}=await o.N.from("jobs").update({is_deleted:!0}).eq("id",e).eq("user_id",u.user.id);r?(console.error("Error deleting job and related records:",r),f("\uc0ad\uc81c\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc0ad\uc81c\ud588\uc5b4\uc694","success"),x(),M())})})(e.id),className:"p-2 rounded-full text-coral-pink hover:bg-red-100 dark:hover:bg-red-900 transition-colors duration-200 ".concat(0===r?"opacity-50 cursor-not-allowed":""),disabled:0===r,"aria-label":"\uc0ad\uc81c",children:(0,m.jsx)(c.A,{size:20})})]})]},e.id))}),(0,m.jsxs)("button",{onClick:()=>{S(null),v(""),k(""),w(""),N(g[0].value),C(""),D("add")},className:"w-full px-4 py-2 bg-mint-green text-white rounded-full font-medium hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105 flex items-center justify-center space-x-2",children:[(0,m.jsx)(d.A,{size:20}),(0,m.jsx)("span",{children:"\uc0c8 \uc9c1\uc5c5 \ucd94\uac00"})]})]}),("add"===L||"edit"===L)&&(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"jobName",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5 \uc774\ub984"}),(0,m.jsx)("input",{type:"text",id:"jobName",value:y,onChange:e=>v(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",placeholder:"\uc608: \uce74\ud398 \uc54c\ubc14"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"jobDescription",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc124\uba85 (\uc120\ud0dd \uc0ac\ud56d)"}),(0,m.jsx)("textarea",{id:"jobDescription",rows:"2",value:p,onChange:e=>k(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",placeholder:"\uc608: \uc8fc\ub9d0 \uadfc\ubb34, \uc2dc\uae09 12000\uc6d0"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"payday",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc6d4\uae09\uc77c (1-31\uc77c, \uc120\ud0dd \uc0ac\ud56d)"}),(0,m.jsx)("input",{type:"number",id:"payday",value:j,onChange:e=>{const r=e.target.value;""===r||Number(r)>=1&&Number(r)<=31?(w(r),C("")):C("\uc6d4\uae09\uc77c\uc740 1\uc5d0\uc11c 31 \uc0ac\uc774\uc758 \uc22b\uc790\uc5ec\uc57c \ud569\ub2c8\ub2e4.")},className:"mt-1 block w-full px-3 py-2 border ".concat(A?"border-red-500":"border-gray-300"," rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white"),placeholder:"\uc608: 25",min:"1",max:"31"}),A&&(0,m.jsx)("p",{className:"text-red-500 text-xs mt-1",children:A})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5 \uc0c9\uc0c1"}),(0,m.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:g.map(e=>(0,m.jsx)("button",{type:"button",onClick:()=>N(e.value),className:"w-8 h-8 rounded-full border-2 transition-transform transform hover:scale-110 ".concat(F===e.value?"ring-2 ring-offset-2 ring-mint-green dark:ring-offset-charcoal-gray":"border-transparent"),style:{backgroundColor:e.value},"aria-label":e.name},e.value))})]}),(0,m.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,m.jsx)("button",{onClick:M,className:"px-4 py-2 bg-medium-gray text-white rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-medium-gray focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:"\ucde8\uc18c"}),(0,m.jsx)("button",{onClick:async()=>{if(!u||!y.trim())return void f("\uc9c1\uc5c5 \uc774\ub984\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.","error");if(A)return void f(A,"error");const e={job_name:y,description:p,payday:j?parseInt(j,10):null,color:F};if(O){const{error:r}=await o.N.from("jobs").update(e).eq("id",O.id).eq("user_id",u.user.id);r?(console.error("Error updating job:",r),f("\uc218\uc815\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc9c1\uc5c5 \uc815\ubcf4\ub97c \ubc14\uafe8\uc5b4\uc694","success"),x(),D("list"))}else{const{error:r}=await o.N.from("jobs").insert([(0,a.A)((0,a.A)({},e),{},{user_id:u.user.id})]).select();r?(console.error("Error adding job:",r),f("\ucd94\uac00\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc0c8\ub85c\uc6b4 \uc9c1\uc5c5\uc744 \ucd94\uac00\ud588\uc5b4\uc694","success"),x(),D("list"))}},className:"px-4 py-2 bg-mint-green text-white rounded-lg hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:O?"\ubcc0\uacbd \uc0ac\ud56d \uc800\uc7a5":"\uc9c1\uc5c5 \ucd94\uac00"})]})]})]})}):null}},360:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},379:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(705);function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){(0,a.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}},505:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(784).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},705:(e,r,t)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var r=function(e,r){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==a(r)?r:r+""}function o(e,r,t){return(r=n(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,{A:()=>o})},784:(e,r,t)=>{t.d(r,{A:()=>m});var a=t(379),n=t(986),o=t(43);const s=e=>{const r=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()))(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>Boolean(e)&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],d=(0,o.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:g,iconNode:b}=e,x=(0,n.A)(e,c);return(0,o.createElement)("svg",(0,a.A)((0,a.A)((0,a.A)({ref:r},l),{},{width:s,height:s,stroke:t,strokeWidth:u?24*Number(d)/Number(s):d,className:i("lucide",m)},!g&&!(e=>{for(const r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(x)&&{"aria-hidden":"true"}),x),[...b.map(e=>{let[r,t]=e;return(0,o.createElement)(r,t)}),...Array.isArray(g)?g:[g]])}),u=["className"],m=(e,r)=>{const t=(0,o.forwardRef)((t,l)=>{let{className:c}=t,m=(0,n.A)(t,u);return(0,o.createElement)(d,(0,a.A)({ref:l,iconNode:r,className:i("lucide-".concat((g=s(e),g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},m));var g});return t.displayName=s(e),t}},855:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},986:(e,r,t)=>{function a(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==r.indexOf(a))continue;t[a]=e[a]}return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}t.d(r,{A:()=>a})}}]);