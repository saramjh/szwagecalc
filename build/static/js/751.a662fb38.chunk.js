"use strict";(self.webpackChunkszwagecalc=self.webpackChunkszwagecalc||[]).push([[751],{61:(e,t,r)=>{r.d(t,{B:()=>s,j:()=>a});const a=[{id:"brand-purple",name:"\ube0c\ub79c\ub4dc \ud37c\ud50c",value:"var(--accent-primary)",textLight:"var(--accent-text)",textDark:"var(--accent-text)",inactive:"rgba(139, 92, 246, 0.25)"},{id:"success-green",name:"\uc11d\uc138\uc2a4 \uadf8\ub9b0",value:"var(--success-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(34, 197, 94, 0.25)"},{id:"warning-orange",name:"\uc6cc\ub2dd \uc624\ub80c\uc9c0",value:"var(--warning-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(249, 115, 22, 0.25)"},{id:"error-red",name:"\uc5d0\ub7ec \ub808\ub4dc",value:"var(--error-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(239, 68, 68, 0.25)"},{id:"blue",name:"\ube14\ub8e8",value:"#2563EB",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(37, 99, 235, 0.25)"},{id:"fuchsia",name:"\ud4e8\uc2dc\uc544",value:"#C026D3",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(192, 38, 211, 0.25)"},{id:"coffee-brown",name:"\ucee4\ud53c \ube0c\ub77c\uc6b4",value:"#8B5E3C",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(139, 94, 60, 0.25)"}],n=a[0],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=a.find(t=>t.value===e);if(r)return t?r.textDark:r.textLight;if(!e)return t?"#FFFFFF":"#1F2937";if(e.startsWith("var("))return"var(--text-inverse)";const n=e.replace("#","");return(.299*parseInt(n.substr(0,2),16)+.587*parseInt(n.substr(2,2),16)+.114*parseInt(n.substr(4,2),16))/255>.5?"#1F2937":"#FFFFFF"},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.color||n.value,o=(l=s,a.find(e=>e.value===l)||n);var l;return t?{backgroundColor:s,color:i(s,r),borderColor:s}:{backgroundColor:o?o.inactive:"rgba(0,0,0,0.1)",color:"var(--text-secondary)",borderColor:o?o.inactive:"rgba(0,0,0,0.1)"}}},751:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r(43),n=r(312),i=r(61),s=r(446),o=r.n(s),l=r(579);const c=e=>{let{isOpen:t,onClose:r,onSaveHourlyRate:s,session:c,jobs:d}=e;const[u,m]=(0,a.useState)(0),[x,g]=(0,a.useState)(null),[h,f]=(0,a.useState)(o()().format("YYYY-MM-DD")),[v,b]=(0,a.useState)(!1),[y,F]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t?(b(!0),setTimeout(()=>F(!0),10),document.body.classList.add("modal-open")):(F(!1),setTimeout(()=>b(!1),300),document.body.classList.remove("modal-open"))},[t]),(0,a.useEffect)(()=>()=>{document.body.classList.remove("modal-open")},[]),(0,a.useEffect)(()=>{t&&c&&x&&(async()=>{if(!c||!x)return;const{data:e,error:t}=await n.N.from("hourly_rate_history").select("hourly_rate, effective_date").eq("user_id",c.user.id).eq("job_id",x).order("effective_date",{ascending:!1}).limit(1);t?(console.error("Error fetching current hourly rate:",t),m(0),f(o()().format("YYYY-MM-DD"))):e&&e.length>0?(m(e[0].hourly_rate),f(e[0].effective_date)):(m(0),f(o()().format("YYYY-MM-DD")))})()},[t,c,x]),(0,a.useEffect)(()=>{t&&d.length>0&&!x&&g(d[0].id),t||(g(null),f(o()().format("YYYY-MM-DD")))},[t,d,x]);return v?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity duration-300 ease-out ".concat(y?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," z-layer-modal"),children:(0,l.jsxs)("div",{className:"bg-cream-white dark:bg-charcoal-gray rounded-2xl shadow-lg p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-out ".concat(y?"translate-y-0":"translate-y-10"),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-dark-navy dark:text-white",children:"\uc2dc\uae09 \uc124\uc815"}),(0,l.jsx)("button",{onClick:r,className:"text-medium-gray dark:text-light-gray hover:text-dark-navy dark:hover:text-white text-2xl transition-all duration-200 ease-in-out transform hover:scale-105",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5 \uc120\ud0dd"}),(0,l.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:0===d.length?(0,l.jsx)("p",{className:"text-sm text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5\uc744 \ucd94\uac00\ud574\uc8fc\uc138\uc694"}):d.map(e=>(0,l.jsx)("button",{onClick:()=>g(e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105 transform",style:(0,i.B)(e,x===e.id),children:e.job_name},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"effectiveDate",className:"block text-sm font-medium text-light-gray-500 dark:text-light-gray",children:"\uc801\uc6a9 \uc2dc\uc791\uc77c"}),(0,l.jsx)("input",{type:"date",id:"effectiveDate",value:h,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-light-gray-300 rounded-md shadow-md focus:outline-none focus:ring-primary focus:border-primary text-sm bg-light-bg dark:bg-dark-gray-200 text-light-text dark:text-dark-text"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"hourlyRate",className:"block text-sm font-medium text-light-gray-500 dark:text-light-gray",children:"\uc2dc\uae09 (\uc6d0)"}),(0,l.jsx)("input",{type:"number",id:"hourlyRate",value:u,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-light-gray-300 rounded-md shadow-md focus:outline-none focus:ring-primary focus:border-primary text-sm bg-light-bg dark:bg-dark-gray-200 text-light-text dark:text-dark-text",placeholder:"\uc608: 10000"})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:r,className:"px-6 py-3 bg-medium-gray text-white rounded-full font-medium hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-medium-gray focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:"\ucde8\uc18c"}),(0,l.jsx)("button",{onClick:()=>{c&&x&&(s(x,u,h),r())},className:"px-6 py-3 bg-mint-green text-white rounded-full font-medium hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:"\uc800\uc7a5"})]})]})}):null}}}]);