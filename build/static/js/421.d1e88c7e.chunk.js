"use strict";(self.webpackChunkszwagecalc=self.webpackChunkszwagecalc||[]).push([[421],{61:(e,t,a)=>{a.d(t,{a:()=>r,b:()=>o});const r=[{id:"brand-purple",name:"\ube0c\ub79c\ub4dc \ud37c\ud50c",value:"var(--accent-primary)",textLight:"var(--accent-text)",textDark:"var(--accent-text)",inactive:"rgba(139, 92, 246, 0.25)"},{id:"success-green",name:"\uc11d\uc138\uc2a4 \uadf8\ub9b0",value:"var(--success-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(34, 197, 94, 0.25)"},{id:"warning-orange",name:"\uc6cc\ub2dd \uc624\ub80c\uc9c0",value:"var(--warning-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(249, 115, 22, 0.25)"},{id:"error-red",name:"\uc5d0\ub7ec \ub808\ub4dc",value:"var(--error-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(239, 68, 68, 0.25)"},{id:"blue",name:"\ube14\ub8e8",value:"#2563EB",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(37, 99, 235, 0.25)"},{id:"fuchsia",name:"\ud4e8\uc2dc\uc544",value:"#C026D3",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(192, 38, 211, 0.25)"},{id:"coffee-brown",name:"\ucee4\ud53c \ube0c\ub77c\uc6b4",value:"#8B5E3C",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(139, 94, 60, 0.25)"}],s=r[0],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=r.find(t=>t.value===e);if(a)return t?a.textDark:a.textLight;if(!e)return t?"#FFFFFF":"#1F2937";if(e.startsWith("var("))return"var(--text-inverse)";const s=e.replace("#","");return(.299*parseInt(s.substr(0,2),16)+.587*parseInt(s.substr(2,2),16)+.114*parseInt(s.substr(4,2),16))/255>.5?"#1F2937":"#FFFFFF"},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.color||s.value,l=(i=o,r.find(e=>e.value===i)||s);var i;return t?{backgroundColor:o,color:n(o,a),borderColor:o}:{backgroundColor:l?l.inactive:"rgba(0,0,0,0.1)",color:"var(--text-secondary)",borderColor:l?l.inactive:"rgba(0,0,0,0.1)"}}},421:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(9379),s=a(5043),n=a(5843),o=a(253),l=a(9994),i=a(8521),d=a(61),c=a(6632),u=a(579);const m=e=>{let{policies:t=c.a,onPoliciesChange:a,enabled:n=!0,onEnabledChange:o,paid:l=!1,onPaidChange:d}=e;const[m,x]=(0,s.useState)(t),[g,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x(t)},[t]);const h=(e,t,s)=>{const n=[...m];n[e]=(0,r.a)((0,r.a)({},n[e]),{},{[t]:Number(s)}),x(n),(0,c.g)(n)&&a(n)};return(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-dark-navy dark:text-white",children:"\ud734\uac8c\uc2dc\uac04 \uc815\ucc45"}),(0,u.jsx)("p",{className:"text-sm text-medium-gray dark:text-light-gray mt-1",children:"\uadfc\ub85c\uae30\uc900\ubc95\uc5d0 \ub530\ub978 \uc790\ub3d9 \ud734\uac8c\uc2dc\uac04 \uc801\uc6a9"})]}),(0,u.jsx)("button",{onClick:()=>o(!n),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-offset-2 ".concat(n?"bg-mint-green":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(n?"translate-x-6":"translate-x-1")})})]}),n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-dark-navy dark:text-white",children:"\ud734\uac8c\uc2dc\uac04 \uae09\uc5ec \ud3ec\ud568"}),(0,u.jsx)("p",{className:"text-xs text-medium-gray dark:text-light-gray mt-0.5",children:"\ud734\uac8c\uc2dc\uac04\ub3c4 \uae09\uc5ec\uc5d0 \ud3ec\ud568\ud558\uc5ec \uacc4\uc0b0\ud569\ub2c8\ub2e4"})]}),(0,u.jsx)("button",{onClick:()=>d(!l),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(l?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform ".concat(l?"translate-x-5":"translate-x-1")})})]}),(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[(0,u.jsx)("h4",{className:"text-sm font-semibold text-dark-navy dark:text-white mb-2",children:"\ud604\uc7ac \ud734\uac8c\uc2dc\uac04 \uaddc\uce59"}),(0,u.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>(0,u.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,u.jsxs)("span",{className:"text-medium-gray dark:text-light-gray",children:[e.minHours,"\uc2dc\uac04 \uc774\uc0c1 ~ ",e.maxHours,"\uc2dc\uac04 \ubbf8\ub9cc"]}),(0,u.jsx)("span",{className:"font-medium text-dark-navy dark:text-white",children:(0,c.f)(e.breakMinutes)})]},t))}),(0,u.jsx)("button",{onClick:()=>b(!g),className:"w-full mt-3 px-3 py-2 text-sm text-mint-green hover:bg-mint-green/10 rounded-lg transition-colors",children:g?"\uac04\ub2e8\ud788 \ubcf4\uae30":"\uc138\ubd80 \uc124\uc815 \ud3b8\uc9d1"})]}),g&&(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,u.jsx)("h4",{className:"text-sm font-semibold text-dark-navy dark:text-white",children:"\ud734\uac8c\uc2dc\uac04 \uaddc\uce59 \ud3b8\uc9d1"}),(0,u.jsx)("button",{onClick:()=>{x(c.a),a(c.a)},className:"text-xs text-medium-gray hover:text-dark-navy dark:hover:text-white transition-colors",children:"\uae30\ubcf8\uac12\uc73c\ub85c \ubcf5\uc6d0"})]}),(0,u.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[m.map((e,t)=>(0,u.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,u.jsx)("div",{className:"col-span-3",children:(0,u.jsx)("input",{type:"number",value:e.minHours,onChange:e=>h(t,"minHours",e.target.value),className:"w-full px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-mint-green bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",min:"0",step:"0.5"})}),(0,u.jsx)("div",{className:"col-span-1 text-center text-xs text-medium-gray",children:"~"}),(0,u.jsx)("div",{className:"col-span-3",children:(0,u.jsx)("input",{type:"number",value:e.maxHours,onChange:e=>h(t,"maxHours",e.target.value),className:"w-full px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-mint-green bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",min:"0",step:"0.5"})}),(0,u.jsx)("div",{className:"col-span-1 text-center text-xs text-medium-gray",children:"\u2192"}),(0,u.jsx)("div",{className:"col-span-3",children:(0,u.jsx)("input",{type:"number",value:e.breakMinutes,onChange:e=>h(t,"breakMinutes",e.target.value),className:"w-full px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-mint-green bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",min:"0",step:"5"})}),(0,u.jsx)("div",{className:"col-span-1 flex justify-center",children:m.length>1&&(0,u.jsx)("button",{onClick:()=>(e=>{if(m.length<=1)return;const t=m.filter((t,a)=>a!==e);x(t),a(t)})(t),className:"p-1 text-coral-pink hover:bg-red-100 dark:hover:bg-red-900 rounded transition-colors",children:(0,u.jsx)(i.E,{size:12})})})]},t)),(0,u.jsxs)("button",{onClick:()=>{const e=m[m.length-1],t=(0,c.e)(e?e.maxHours:0,e?e.maxHours+4:4,30),r=[...m,t];x(r),a(r)},className:"w-full px-3 py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-sm text-medium-gray hover:border-mint-green hover:text-mint-green transition-colors flex items-center justify-center space-x-2",children:[(0,u.jsx)(i.z,{size:16}),(0,u.jsx)("span",{children:"\uc0c8 \uaddc\uce59 \ucd94\uac00"})]})]}),(0,u.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:(0,u.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:"\ud83d\udca1 \uadfc\ub85c\uae30\uc900\ubc95: 4~8\uc2dc\uac04\u219230\ubd84, 8\uc2dc\uac04\uc774\uc0c1\u21921\uc2dc\uac04"})})]})]})]})};var x=a(4429);const g=d.a.map(e=>({name:e.name,value:e.value})),b=e=>{let{isOpen:t,onClose:a,session:d,jobs:b,fetchJobs:h}=e;const f=(0,o.b)(),y=(0,l.b)(),[k,v]=(0,s.useState)(""),[p,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[F,_]=(0,s.useState)(g[0].value),[C,D]=(0,s.useState)(""),[M,H]=(0,s.useState)(null),[S,A]=(0,s.useState)("list"),[W,E]=(0,s.useState)(!0),[z,L]=(0,s.useState)(!1),[O,Y]=(0,s.useState)(c.a),[P,I]=(0,s.useState)(!0),[R,q]=(0,s.useState)(15),[B,U]=(0,s.useState)(!1),[T,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t?(U(!0),setTimeout(()=>J(!0),10),document.body.classList.add("modal-open"),A("list")):(J(!1),setTimeout(()=>{U(!1),H(null),v(""),j(""),N(""),_(g[0].value),E(!0),L(!1),Y(c.a),D(""),A("list")},300),document.body.classList.remove("modal-open"))},[t]),(0,s.useEffect)(()=>()=>{document.body.classList.remove("modal-open")},[]);const G=e=>{H(e),v(e.job_name),j(e.description||""),N(e.payday||""),_(e.color||g[0].value),E(!1!==e.break_time_enabled),L(e.break_time_paid||!1),Y(e.break_time_policies||c.a),I(!1!==e.weekly_allowance_enabled),q(e.weekly_allowance_min_hours||15),D(""),A("edit")},K=()=>{H(null),v(""),j(""),N(""),_(g[0].value),E(!0),L(!1),Y(c.a),I(!0),q(15),D(""),A("list")};return B?(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center transition-opacity duration-300 ease-out ".concat(T?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," z-layer-modal p-4"),children:(0,u.jsxs)("div",{className:"bg-cream-white dark:bg-gray-900 rounded-lg shadow-lg dark:shadow-2xl dark:shadow-black/50 w-full max-w-md transform transition-all duration-300 ease-out ".concat(T?"translate-y-0":"translate-y-10"," flex flex-col max-h-[90vh]"),children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-6 pb-4 flex-shrink-0 border-b border-gray-200 dark:border-gray-700",children:[(0,u.jsxs)("h2",{className:"text-xl font-bold text-dark-navy dark:text-white",children:["list"===S&&"\uc9c1\uc5c5 \uad00\ub9ac","add"===S&&"\uc0c8 \uc9c1\uc5c5 \ucd94\uac00","edit"===S&&"\uc9c1\uc5c5 \ud3b8\uc9d1"]}),(0,u.jsx)("button",{onClick:a,className:"text-medium-gray dark:text-light-gray hover:text-dark-navy dark:hover:text-white text-2xl transition-all duration-200 ease-in-out transform hover:scale-105",children:"\xd7"})]}),(0,u.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:["list"===S&&(0,u.jsxs)("div",{className:"space-y-4 mb-6",children:[0===b.length?(0,u.jsx)("p",{className:"text-medium-gray dark:text-light-gray text-center py-4",children:"\ub4f1\ub85d\ub41c \uc9c1\uc5c5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8 \uc9c1\uc5c5\uc744 \ucd94\uac00\ud574\ubcf4\uc138\uc694!"}):(0,u.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2",children:b.map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0 rounded-md",children:[(0,u.jsx)("div",{className:"w-1.5 h-12 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:e.color||"transparent"}}),(0,u.jsxs)("div",{onClick:()=>G(e),className:"flex-grow cursor-pointer",children:[(0,u.jsx)("div",{className:"font-bold text-lg text-dark-navy dark:text-white",children:e.job_name}),e.payday&&(0,u.jsxs)("p",{className:"text-sm text-medium-gray dark:text-light-gray mt-0.5",children:["\uc6d4\uae09\uc77c: \ub9e4\uc6d4 ",e.payday,"\uc77c"]})]}),(0,u.jsxs)("div",{className:"flex flex-col space-y-2 ml-4 flex-shrink-0",children:[(0,u.jsx)("button",{onClick:()=>G(e),className:"p-2 rounded-full text-medium-gray dark:text-light-gray hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":"\uc218\uc815",children:(0,u.jsx)(i.w,{size:20})}),(0,u.jsx)("button",{onClick:()=>(async e=>{d&&y("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694? \uad00\ub828 \uae30\ub85d\uc774 \ubaa8\ub450 \uc0ac\ub77c\uc838\uc694.",async()=>{const{error:t}=await n.a.from("jobs").update({is_deleted:!0}).eq("id",e).eq("user_id",d.user.id);t?(console.error("Error deleting job and related records:",t),f("\uc0ad\uc81c\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc0ad\uc81c\ud588\uc5b4\uc694","success"),h(),K())})})(e.id),className:"p-2 rounded-full text-coral-pink hover:bg-red-100 dark:hover:bg-red-900 transition-colors duration-200 ".concat(0===t?"opacity-50 cursor-not-allowed":""),disabled:0===t,"aria-label":"\uc0ad\uc81c",children:(0,u.jsx)(i.E,{size:20})})]})]},e.id))}),(0,u.jsxs)("button",{onClick:()=>{H(null),v(""),j(""),N(""),_(g[0].value),E(!0),L(!1),Y(c.a),I(!0),q(15),D(""),A("add")},className:"w-full px-4 py-2 bg-mint-green text-white rounded-full font-medium hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105 flex items-center justify-center space-x-2",children:[(0,u.jsx)(i.z,{size:20}),(0,u.jsx)("span",{children:"\uc0c8 \uc9c1\uc5c5 \ucd94\uac00"})]})]}),("add"===S||"edit"===S)&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"jobName",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5 \uc774\ub984"}),(0,u.jsx)("input",{type:"text",id:"jobName",value:k,onChange:e=>v(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",placeholder:"\uc608: \uce74\ud398 \uc54c\ubc14"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"jobDescription",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc124\uba85 (\uc120\ud0dd \uc0ac\ud56d)"}),(0,u.jsx)("textarea",{id:"jobDescription",rows:"2",value:p,onChange:e=>j(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white",placeholder:"\uc608: \uc8fc\ub9d0 \uadfc\ubb34, \uc2dc\uae09 12000\uc6d0"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"payday",className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc6d4\uae09\uc77c (1-31\uc77c, \uc120\ud0dd \uc0ac\ud56d)"}),(0,u.jsx)("input",{type:"number",id:"payday",value:w,onChange:e=>{const t=e.target.value;""===t||Number(t)>=1&&Number(t)<=31?(N(t),D("")):D("\uc6d4\uae09\uc77c\uc740 1\uc5d0\uc11c 31 \uc0ac\uc774\uc758 \uc22b\uc790\uc5ec\uc57c \ud569\ub2c8\ub2e4.")},className:"mt-1 block w-full px-3 py-2 border ".concat(C?"border-red-500":"border-gray-300"," rounded-md shadow-md focus:outline-none focus:ring-mint-green focus:border-mint-green text-sm bg-cream-white dark:bg-charcoal-gray text-dark-navy dark:text-white"),placeholder:"\uc608: 25",min:"1",max:"31"}),C&&(0,u.jsx)("p",{className:"text-red-500 text-xs mt-1",children:C})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-medium-gray dark:text-light-gray",children:"\uc9c1\uc5c5 \uc0c9\uc0c1"}),(0,u.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:g.map(e=>(0,u.jsx)("button",{type:"button",onClick:()=>_(e.value),className:"w-8 h-8 rounded-full border-2 transition-transform transform hover:scale-110 ".concat(F===e.value?"ring-2 ring-offset-2 ring-mint-green dark:ring-offset-charcoal-gray":"border-transparent"),style:{backgroundColor:e.value},"aria-label":e.name},e.value))})]}),(0,u.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:(0,u.jsx)(m,{policies:O,onPoliciesChange:Y,enabled:W,onEnabledChange:E,paid:z,onPaidChange:L})}),(0,u.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-base font-semibold text-dark-navy dark:text-white",children:"\uc8fc\ud734\uc218\ub2f9"}),(0,u.jsx)("p",{className:"text-sm text-medium-gray dark:text-light-gray",children:"\uc8fc\uac04 \uadfc\ubb34\uc2dc\uac04\uc774 \uae30\uc900 \uc774\uc0c1\uc77c \ub54c \ud3c9\uade0 \uc77c\uae09\uc744 \uc9c0\uae09"})]}),(0,u.jsx)("button",{onClick:()=>I(!P),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out ".concat(P?"bg-mint-green":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out ".concat(P?"translate-x-6":"translate-x-1")})})]}),P&&(0,u.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-2",children:"\uc8fc\uac04 \ucd5c\uc18c \uadfc\ubb34\uc2dc\uac04 (\uc2dc\uac04)"}),(0,u.jsx)("input",{type:"number",value:R,onChange:e=>q(Math.max(0,parseFloat(e.target.value)||0)),className:"w-full px-3 py-2 border border-blue-200 dark:border-blue-700 rounded-lg bg-white dark:bg-gray-800 text-blue-900 dark:text-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"15",min:"0",step:"0.5"}),(0,u.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"\uc774 \uc2dc\uac04 \uc774\uc0c1 \uadfc\ubb34 \uc2dc \uc8fc\ud734\uc218\ub2f9 \uc9c0\uae09 (\uc77c\ubc18\uc801\uc73c\ub85c 15\uc2dc\uac04)"})]}),(0,u.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-800/30 rounded-lg p-3",children:[(0,u.jsx)("h5",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"\ud83d\udca1 \uc8fc\ud734\uc218\ub2f9 \uacc4\uc0b0 \ubc29\uc2dd"}),(0,u.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[(0,u.jsx)("li",{children:"\u2022 \uc8fc\uac04 \ucd1d \uadfc\ubb34\uc2dc\uac04 \xf7 \uadfc\ubb34\uc77c\uc218 = \ud3c9\uade0 \uc77c \uadfc\ubb34\uc2dc\uac04"}),(0,u.jsx)("li",{children:"\u2022 \ud3c9\uade0 \uc77c \uadfc\ubb34\uc2dc\uac04 \xd7 \ud3c9\uade0 \uc2dc\uae09 = \uc8fc\ud734\uc218\ub2f9"}),(0,u.jsx)("li",{children:"\u2022 \ud734\uac8c\uc2dc\uac04\uc740 \uc81c\uc678\ud558\uace0 \uacc4\uc0b0\ub429\ub2c8\ub2e4"})]})]})]})]})})]})]}),("add"===S||"edit"===S)&&(0,u.jsx)("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,u.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,u.jsx)("button",{onClick:K,className:"px-4 py-2 bg-medium-gray text-white rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-medium-gray focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:"\ucde8\uc18c"}),(0,u.jsx)("button",{onClick:async()=>{if(!d||!k.trim())return void f("\uc9c1\uc5c5 \uc774\ub984\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.","error");if(C)return void f(C,"error");const e={job_name:k,description:p,payday:w?parseInt(w,10):null,color:F,break_time_enabled:W,break_time_paid:z,break_time_policies:O,weekly_allowance_enabled:P,weekly_allowance_min_hours:R};if(M){const{error:t}=await n.a.from("jobs").update(e).eq("id",M.id).eq("user_id",d.user.id);t?(console.error("Error updating job:",t),f("\uc218\uc815\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc9c1\uc5c5 \uc815\ubcf4\ub97c \ubc14\uafe8\uc5b4\uc694","success"),(0,c.d)(),(0,x.c)(),h(),A("list"))}else{const{error:t}=await n.a.from("jobs").insert([(0,r.a)((0,r.a)({},e),{},{user_id:d.user.id})]).select();t?(console.error("Error adding job:",t),f("\ucd94\uac00\ud558\uc9c0 \ubabb\ud588\uc5b4\uc694","error")):(f("\uc0c8\ub85c\uc6b4 \uc9c1\uc5c5\uc744 \ucd94\uac00\ud588\uc5b4\uc694","success"),(0,c.d)(),(0,x.c)(),h(),A("list"))}},className:"px-4 py-2 bg-mint-green text-white rounded-lg hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 transition-all duration-200 ease-in-out transform hover:scale-105",children:M?"\ubcc0\uacbd \uc0ac\ud56d \uc800\uc7a5":"\uc9c1\uc5c5 \ucd94\uac00"})]})})]})}):null}},4429:(e,t,a)=>{a.d(t,{a:()=>y,b:()=>h,c:()=>v,d:()=>p,e:()=>k,f:()=>f});var r=a(9379),s=a(446),n=a.n(s),o=a(6865),l=a.n(o),i=a(7140),d=a.n(i),c=a(4462),u=a.n(c),m=a(8933),x=a.n(m),g=a(6632);n().extend(l()),n().extend(d()),n().extend(u()),n().extend(x());const b=new Map;function h(e,t){if(null===t||void 0===t||!t.weekly_allowance_enabled)return{eligible:!1,totalWorkHours:0,averageHourlyRate:0,allowanceAmount:0,workDays:0,reason:"\uc8fc\ud734\uc218\ub2f9 \uc801\uc6a9 \uc548\ud568"};const a=t.weekly_allowance_min_hours||15;let r=0,s=0,n=0,o=!1;const l=new Set;for(const u of e){if(u.job_id!==t.id||"hourly"!==u.wage_type)continue;if(u.is_unexcused_absence&&(o=!0),!u.start_time||!u.end_time)continue;r+=(0,g.c)(u.start_time,u.end_time,u.jobs||t).workHours,s+=(u.daily_wage||0)-(u.meal_allowance||0),l.add(u.date)}if(n=l.size,o)return{eligible:!1,totalWorkHours:Math.round(100*r)/100,averageHourlyRate:0,allowanceAmount:0,workDays:n,hasUnexcusedAbsence:!0,reason:"\ubb34\ub2e8\uacb0\uadfc\uc73c\ub85c \uc778\ud55c \uc8fc\ud734\uc218\ub2f9 \uc9c0\uae09 \ubd88\uac00"};if(r<a)return{eligible:!1,totalWorkHours:Math.round(100*r)/100,averageHourlyRate:0,allowanceAmount:0,workDays:n,hasUnexcusedAbsence:!1,reason:"\uc8fc\uac04 \uadfc\ubb34\uc2dc\uac04 \ubd80\uc871 (".concat(r.toFixed(1),"\uc2dc\uac04 < ").concat(a,"\uc2dc\uac04)")};if(0===n)return{eligible:!1,totalWorkHours:Math.round(100*r)/100,averageHourlyRate:0,allowanceAmount:0,workDays:0,hasUnexcusedAbsence:!1,reason:"\ud574\ub2f9 \uc9c1\uc5c5 \uadfc\ubb34\uc77c \uc5c6\uc74c"};const i=s>0?Math.round(s/r):0,d=r/n,c=Math.round(d*i);return{eligible:!0,totalWorkHours:Math.round(100*r)/100,averageHourlyRate:i,allowanceAmount:c,workDays:n,avgDailyHours:Math.round(100*d)/100,hasUnexcusedAbsence:!1,reason:"\uc8fc\ud734\uc218\ub2f9 \uc9c0\uae09 \ub300\uc0c1"}}function f(e,t){const a=n()(t),r=a.startOf("isoWeek"),s=a.endOf("isoWeek");return e.filter(e=>{const t=n()(e.date);return t.isSameOrAfter(r,"day")&&t.isSameOrBefore(s,"day")})}function y(e,t,a){const r=n()(a),s=r.startOf("month"),o=r.endOf("month"),l=[];let i=s.startOf("isoWeek");for(;i.isBefore(o)||i.isSame(o,"week");)l.push(i),i=i.add(1,"week");let d=0,c=0;const u=new Map;for(const n of l){const a=f(e,n);for(const e of t){if(!e.weekly_allowance_enabled)continue;const t=h(a,e);if(t.eligible&&t.allowanceAmount>0){d+=t.allowanceAmount,c++,u.has(e.id)||u.set(e.id,{jobName:e.job_name,jobColor:e.color,totalAmount:0,weekCount:0});const a=u.get(e.id);a.totalAmount+=t.allowanceAmount,a.weekCount++}}}return{totalAllowance:d,eligibleWeeks:c,totalWeeks:l.length,jobAllowances:Array.from(u.values())}}function k(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const s=n()(a),o=h(f(e,s),t),l=s.startOf("isoWeek"),i=s.endOf("isoWeek"),d=i.diff(l,"day")+1,c=s.diff(l,"day")+1,u=(null===t||void 0===t?void 0:t.weekly_allowance_min_hours)||15,m=Math.min(100,o.totalWorkHours/u*100);return(0,r.a)((0,r.a)({},o),{},{weekStart:l.format("YYYY-MM-DD"),weekEnd:i.format("YYYY-MM-DD"),daysInWeek:d,daysPassed:c,progressPercent:Math.round(m),hoursNeeded:Math.max(0,u-o.totalWorkHours),isCurrentWeek:!0})}function v(){b.clear()}function p(e){const t=n()(e),a=t.endOf("isoWeek"),r=Math.ceil(t.date()/7);return"".concat(t.format("M\uc6d4")," ").concat(r,"\uc8fc\ucc28 (").concat(t.format("M/D"),"~").concat(a.format("M/D"),")")}}}]);