(self.webpackChunkszwagecalc=self.webpackChunkszwagecalc||[]).push([[685],{61:(e,t,a)=>{"use strict";a.d(t,{B:()=>i,j:()=>r});const r=[{id:"brand-purple",name:"\ube0c\ub79c\ub4dc \ud37c\ud50c",value:"var(--accent-primary)",textLight:"var(--accent-text)",textDark:"var(--accent-text)",inactive:"rgba(139, 92, 246, 0.25)"},{id:"success-green",name:"\uc11d\uc138\uc2a4 \uadf8\ub9b0",value:"var(--success-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(34, 197, 94, 0.25)"},{id:"warning-orange",name:"\uc6cc\ub2dd \uc624\ub80c\uc9c0",value:"var(--warning-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(249, 115, 22, 0.25)"},{id:"error-red",name:"\uc5d0\ub7ec \ub808\ub4dc",value:"var(--error-primary)",textLight:"var(--text-inverse)",textDark:"var(--text-inverse)",inactive:"rgba(239, 68, 68, 0.25)"},{id:"blue",name:"\ube14\ub8e8",value:"#2563EB",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(37, 99, 235, 0.25)"},{id:"fuchsia",name:"\ud4e8\uc2dc\uc544",value:"#C026D3",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(192, 38, 211, 0.25)"},{id:"coffee-brown",name:"\ucee4\ud53c \ube0c\ub77c\uc6b4",value:"#8B5E3C",textLight:"#FFFFFF",textDark:"#FFFFFF",inactive:"rgba(139, 94, 60, 0.25)"}],s=r[0],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=r.find(t=>t.value===e);if(a)return t?a.textDark:a.textLight;if(!e)return t?"#FFFFFF":"#1F2937";if(e.startsWith("var("))return"var(--text-inverse)";const s=e.replace("#","");return(.299*parseInt(s.substr(0,2),16)+.587*parseInt(s.substr(2,2),16)+.114*parseInt(s.substr(4,2),16))/255>.5?"#1F2937":"#FFFFFF"},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.color||s.value,l=(o=i,r.find(e=>e.value===o)||s);var o;return t?{backgroundColor:i,color:n(i,a),borderColor:i}:{backgroundColor:l?l.inactive:"rgba(0,0,0,0.1)",color:"var(--text-secondary)",borderColor:l?l.inactive:"rgba(0,0,0,0.1)"}}},456:function(e,t,a){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e),r={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e+"\uc77c"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return a.default.locale(r,null,!0),r}(a(446))},685:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(43),s=a(446),n=a.n(s),i=(a(456),a(312)),l=a(61),o=a(521),d=a(579);n().locale("ko");const c=e=>{let{isOpen:t,onClose:a,selectedMonth:s,session:c,jobs:m}=e;const[x,u]=(0,r.useState)([]),[h,f]=(0,r.useState)(0),[v,b]=(0,r.useState)(0),[g,y]=(0,r.useState)(0),[p,_]=(0,r.useState)("all"),[k,j]=(0,r.useState)(!1),[F,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t?(j(!0),setTimeout(()=>w(!0),10),document.body.classList.add("modal-open")):(w(!1),setTimeout(()=>j(!1),300),document.body.classList.remove("modal-open"))},[t]),(0,r.useEffect)(()=>()=>{document.body.classList.remove("modal-open")},[]);const Y=(0,r.useCallback)(e=>{let t=0,a=0,r=0;e.forEach(e=>{if(t+=e.daily_wage||0,r+=e.meal_allowance||0,e.start_time&&e.end_time){const t=(0,o.C)(e.start_time);let r=(0,o.C)(e.end_time);t&&r&&(r.isBefore(t)&&(r=r.add(1,"day")),a+=r.diff(t,"minute")/60)}}),y(t),f(a),b(r)},[]),M=(e,t)=>{if(!e||!t)return"0\uc2dc\uac04 0\ubd84";const a=(0,o.C)(e);let r=(0,o.C)(t);if(!a||!r)return"0\uc2dc\uac04 0\ubd84";r.isBefore(a)&&(r=r.add(1,"day"));const s=r.diff(a,"minute"),n=Math.floor(s/60),i=s%60;let l="";return n>0&&(l+="".concat(n,"\uc2dc\uac04 ")),l+="".concat(i,"\ubd84"),l.trim()},N=(0,r.useCallback)(async()=>{if(!c)return;const e=n()(s).startOf("month").format("YYYY-MM-DD"),t=n()(s).endOf("month").format("YYYY-MM-DD");let a=i.N.from("work_records").select("*, jobs(job_name, color)").eq("user_id",c.user.id).gte("date",e).lte("date",t);"all"!==p&&(a=a.eq("job_id",p));const{data:r,error:l}=await a.order("date",{ascending:!0});l?(console.error("Error fetching monthly work records:",l),u([])):(u(r||[]),Y(r||[]))},[c,s,p,Y]);return(0,r.useEffect)(()=>{t&&s&&c&&N()},[t,s,c,N]),k?(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity duration-300 ease-out ".concat(F?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," z-layer-modal"),children:(0,d.jsxs)("div",{className:"bg-cream-white dark:bg-charcoal-gray rounded-2xl shadow-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-300 ease-out ".concat(F?"translate-y-0 scale-100":"translate-y-10 scale-95"),children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("h2",{className:"text-xl font-bold text-dark-navy dark:text-white",children:[n()(s).format("YYYY\ub144 M\uc6d4")," \uc6d4\uae09 \ubcf4\uace0\uc11c"]}),(0,d.jsx)("button",{onClick:a,className:"text-medium-gray dark:text-light-gray hover:text-dark-navy dark:hover:text-white text-2xl transition-all duration-200 ease-in-out transform hover:scale-105",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-medium-gray dark:text-light-gray mb-1",children:"\uc9c1\uc5c5 \ud544\ud130"}),(0,d.jsxs)("div",{className:"mt-1 flex flex-wrap gap-2",children:[(0,d.jsx)("button",{onClick:()=>_("all"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ".concat("all"===p?"bg-mint-green text-white":"bg-gray-200 text-dark-navy dark:bg-gray-700 dark:text-white"),children:"\ubaa8\ub4e0 \uc9c1\uc5c5"}),m.map(e=>(0,d.jsx)("button",{onClick:()=>_(e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105 transform",style:(0,l.B)(e,p===e.id),children:e.job_name},e.id))]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"text-dark-navy dark:text-white text-sm font-semibold",children:"\ucd1d \uadfc\ubb34 \uc2dc\uac04"}),(0,d.jsx)("p",{className:"text-dark-navy dark:text-white text-base",children:(e=>{if(!Number.isFinite(e)||0===e)return"0\uc2dc\uac04 0\ubd84";const t=Math.floor(e),a=Math.round(60*(e-t));let r="";return t>0&&(r+="".concat(t,"\uc2dc\uac04 ")),r+="".concat(a,"\ubd84"),r.trim()})(h)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"text-dark-navy dark:text-white text-sm font-semibold",children:"\ucd1d \uc2dd\ub300"}),(0,d.jsxs)("p",{className:"text-dark-navy dark:text-white text-base",children:[(v||0).toLocaleString(),"\uc6d0"]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700 mt-2",children:[(0,d.jsx)("p",{className:"text-dark-navy dark:text-white text-lg font-bold",children:"\ucd1d \uc218\uc785"}),(0,d.jsxs)("p",{className:"text-xl font-extrabold text-mint-green dark:text-mint-green-light whitespace-nowrap",children:[(g||0).toLocaleString(),"\uc6d0"]})]})]}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-dark-navy dark:text-white mb-3",children:"\uc77c\ubcc4 \uc0c1\uc138 \ub0b4\uc5ed"}),(0,d.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:0===x.length?(0,d.jsx)("p",{className:"text-medium-gray dark:text-light-gray text-center py-4",children:"\uae30\ub85d\ub41c \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):x.map(e=>{var t,a,r;return(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-3 mb-3 last:mb-0",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-dark-navy dark:text-white",children:n()(e.date).format("M\uc6d4 D\uc77c (ddd)")}),(0,d.jsxs)("p",{className:"text-xl font-extrabold text-mint-green dark:text-mint-green-light whitespace-nowrap flex-shrink-0",children:["+",(e.daily_wage||0).toLocaleString(),"\uc6d0"]})]}),(0,d.jsxs)("div",{className:"text-xs text-medium-gray dark:text-light-gray mb-1",children:[e.start_time&&e.end_time&&(0,d.jsxs)("p",{children:[(null===(t=e.start_time)||void 0===t?void 0:t.slice(0,5))||"--:--"," ~ ",(null===(a=e.end_time)||void 0===a?void 0:a.slice(0,5))||"--:--",(0,d.jsxs)("span",{className:"ml-2",children:["(",M(e.start_time,e.end_time),")"]})]}),(e.meal_allowance||0)>0&&(0,d.jsxs)("p",{children:["\uc2dd\ub300: ",(e.meal_allowance||0).toLocaleString(),"\uc6d0"]})]}),(null===(r=e.jobs)||void 0===r?void 0:r.job_name)&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold mt-1",style:(0,l.B)(e.jobs,!0),children:e.jobs.job_name})})]},e.id)})}),(0,d.jsx)("div",{className:"mt-6 text-center",children:(0,d.jsx)("button",{onClick:a,className:"px-6 py-3 bg-mint-green text-white rounded-full font-medium hover:bg-mint-green-dark focus:outline-none focus:ring-2 focus:ring-mint-green focus:ring-opacity-50 text-lg font-semibold transition-all duration-200 ease-in-out transform hover:scale-105",children:"\ub2eb\uae30"})})]})}):null}}}]);